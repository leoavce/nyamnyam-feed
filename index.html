<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>판교 맛집 지도 - Pangyo Matjip Feed</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- 폰트 & 아이콘 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;800&display=swap"
    rel="stylesheet"
  />
  <!-- integrity 제거해서 오류 방지 -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="app-header">
    <div class="app-header-inner">
      <div class="brand">
        <span class="logo-dot"></span>
        <div class="brand-text">
          <h1>판교 맛집 지도</h1>
          <p>Pangyo Matjip Feed · Beta</p>
        </div>
      </div>
      <div class="header-right">
        <div class="search-bar">
          <i class="fa fa-search"></i>
          <input
            id="searchInput"
            type="text"
            placeholder="가게 이름 또는 #해시태그로 검색"
          />
        </div>
        <button id="addRestaurantBtn" class="primary-btn">
          <i class="fa fa-plus"></i> 맛집 추가하기
        </button>
        <div class="user-chip">
          <i class="fa fa-user"></i>
          <span id="nicknameLabel">로그인 확인 중...</span>
        </div>
        <button id="logoutBtn" class="secondary-btn secondary-btn-sm">
          로그아웃
        </button>
      </div>
    </div>
    <div class="tag-filter-row">
      <button class="tag-filter-btn active" data-category="all">전체</button>
      <button class="tag-filter-btn" data-category="korean">한식</button>
      <button class="tag-filter-btn" data-category="chinese">중식</button>
      <button class="tag-filter-btn" data-category="japanese">일식</button>
      <button class="tag-filter-btn" data-category="western">양식</button>
      <button class="tag-filter-btn" data-category="seasia">동남아</button>
      <button class="tag-filter-btn" data-category="cafe">카페</button>
      <button class="tag-filter-btn" data-category="bar">술집</button>
    </div>
  </header>

  <main class="app-main">
    <section id="feed" class="feed">
      <!-- JS에서 맛집 카드가 렌더링됩니다 -->
    </section>
  </main>

  <!-- 맛집 추가 모달 (UI 개선) -->
  <div id="addRestaurantModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content modal-content-wide">
      <header class="modal-header modal-header-accent">
        <div>
          <h2>맛집 추가하기</h2>
          <p>판교에 숨겨진 맛집을 같이 아카이빙해봐요.</p>
        </div>
        <button class="icon-btn icon-btn-light" id="closeAddRestaurantModal">
          <i class="fa fa-times"></i>
        </button>
      </header>
      <form id="addRestaurantForm" class="modal-body modal-body-grid">
        <section class="modal-section">
          <h3 class="modal-section-title">기본 정보</h3>
          <div class="form-row">
            <label>가게 이름<span class="required">*</span></label>
            <input type="text" name="name" placeholder="예: 면장수 판교점" required />
          </div>
          <div class="form-row">
            <label>주소<span class="required">*</span></label>
            <input type="text" name="address" placeholder="예: 성남시 분당구 판교역로 ..." required />
          </div>
          <div class="form-row">
            <label>친절한 위치</label>
            <input type="text" name="positionDescription" placeholder="안랩 바로 뒤, 판교역 1번 출구 5분 등" />
          </div>
          <div class="form-row">
            <label>대표 메뉴</label>
            <input type="text" name="mainMenu" placeholder="차돌된장, 명란크림파스타 등" />
          </div>
        </section>

        <section class="modal-section">
          <h3 class="modal-section-title">분위기 & 체류감</h3>
          <div class="form-row two-col">
            <div>
              <label>분위기</label>
              <input type="text" name="mood" placeholder="조용한, 캐주얼한, 회식용 등" />
            </div>
            <div>
              <label>웨이팅</label>
              <select name="waitingLevel">
                <option value="">선택</option>
                <option value="low">적음</option>
                <option value="medium">보통</option>
                <option value="high">많음</option>
              </select>
            </div>
          </div>
          <div class="form-row two-col">
            <div>
              <label>냄새 배는지</label>
              <select name="smellLevel">
                <option value="">선택</option>
                <option value="none">거의 안 밈</option>
                <option value="normal">보통</option>
                <option value="strong">잘 밈</option>
              </select>
            </div>
            <div>
              <label>가격대</label>
              <select name="priceLevel">
                <option value="">선택</option>
                <option value="₩">₩ (1만원대)</option>
                <option value="₩₩">₩₩ (1~2만원대)</option>
                <option value="₩₩₩">₩₩₩ (2만원 이상)</option>
              </select>
            </div>
          </div>
        </section>

        <section class="modal-section">
          <h3 class="modal-section-title">태그 & 이미지</h3>
          <div class="form-row">
            <label>카테고리 태그</label>
            <select name="category">
              <option value="">선택</option>
              <option value="korean">한식</option>
              <option value="chinese">중식</option>
              <option value="japanese">일식</option>
              <option value="western">양식</option>
              <option value="seasia">동남아</option>
              <option value="cafe">카페</option>
              <option value="bar">술집</option>
            </select>
          </div>
          <div class="form-row">
            <label>대표 해시태그 (쉼표로 구분)</label>
            <input type="text" name="mainHashtags" placeholder="#점심맛집, #냄새안밈, #회식굿 등" />
          </div>
          <div class="form-row">
            <label>대표 이미지 URL</label>
            <input type="url" name="imageUrl" placeholder="https:// 로 시작하는 이미지 주소" />
            <p class="form-help-text">
              이미지는 파일 업로드 대신, 외부 이미지 URL을 미리보기로 보여줘요.
            </p>
          </div>
        </section>

        <footer class="modal-footer modal-footer-sticky">
          <button type="button" class="secondary-btn" id="cancelAddRestaurant">
            취소
          </button>
          <button type="submit" class="primary-btn">
            저장하기
          </button>
        </footer>
      </form>
    </div>
  </div>

  <!-- 전역 로딩 토스트 -->
  <div id="toast" class="toast hidden"></div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
